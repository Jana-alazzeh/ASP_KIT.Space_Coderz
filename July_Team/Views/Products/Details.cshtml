@using Microsoft.Extensions.Localization
@inject IStringLocalizer<SharedResource> Localizar

@model July_Team.Models.ProductDetailViewModel

@{
    ViewData["Title"] = Model.Name; 
}

<
<style>
    
    .product-images-scroll {
        display: flex;
        overflow-x: scroll;
        gap: 15px;
        padding-bottom: 15px;
        border-radius: 15px;
    }

        .product-images-scroll img {
            flex-shrink: 0;
            width: 100%;
            max-width: 400px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            height: auto;
        }

    .size-option input[type="radio"] {
        display: none;
    }

    .size-option label {
        display: inline-block;
        padding: 10px 15px;
        border: 2px solid #032ba7;
        color: #032ba7;
        border-radius: 50px;
        cursor: pointer;
        transition: background-color 0.2s, color 0.2s;
    }

    .size-option input[type="radio"]:checked + label {
        background-color: #032ba7;
        color: white;
    }
</style>

<div class="container py-5">
    <div class="row g-5">
        @if (TempData["SuccessMessage"] != null)
        {
            <div class="alert alert-success">@TempData["SuccessMessage"]</div>
        }

        <div class="col-lg-7">
            <h2 class="mb-3">@Localizar["ProductImages"]</h2>
            <div class="product-images-scroll">
                <img src="@Model.ImageUrl" alt="@Model.Name - Front View">
                <img src="@(string.IsNullOrEmpty(Model.ImageUrl_Back) ? Model.ImageUrl : Model.ImageUrl_Back)" alt="@Model.Name - Back View">
            </div>
        </div>

        <div class="col-lg-5">
            <h1 class="display-5 fw-bold mb-3">@Model.Name</h1>
            <h3 class="fw-bolder mb-4" style="color: #032ba7;">@Model.Price.ToString("N0") JD</h3>
            <p class="lead text-muted">@Model.Description</p>

            <form asp-controller="Cart" asp-action="AddToCart" method="post">
                <input type="hidden" asp-for="ProductId" />

                <div class="mb-4">
                    <label class="form-label fw-bold d-block">@Localizar["SelectSize"]:</label>
                    <div class="size-option d-flex gap-3">
                        <input type="radio" id="size-s" asp-for="SelectedSize" value="S" required><label for="size-s">S</label>
                        <input type="radio" id="size-m" asp-for="SelectedSize" value="M"><label for="size-m">M</label>
                        <input type="radio" id="size-l" asp-for="SelectedSize" value="L"><label for="size-l">L</label>
                        <input type="radio" id="size-xl" asp-for="SelectedSize" value="XL"><label for="size-xl">XL</label>
                    </div>
                </div>

                <div class="mb-5">
                    <label asp-for="SelectedQuantity" class="form-label fw-bold">@Localizar["Quantity"]:</label>
                    <input type="number" asp-for="SelectedQuantity" class="form-control" min="1" max="@Model.AvailableStock" required style="max-width: 100px;">
                </div>

                <button type="submit" class="btn btn-primary btn-lg w-100 fw-bold">
                    <i class="bi bi-cart-plus me-2"></i> @Localizar["AddToCart"]
                </button>
            </form>
        </div>
    </div>
</div>
